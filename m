Return-Path: <linux-acpi-owner@vger.kernel.org>
X-Original-To: lists+linux-acpi@lfdr.de
Delivered-To: lists+linux-acpi@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by mail.lfdr.de (Postfix) with ESMTP id CDEA43A66F4
	for <lists+linux-acpi@lfdr.de>; Mon, 14 Jun 2021 14:49:32 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S233234AbhFNMve (ORCPT <rfc822;lists+linux-acpi@lfdr.de>);
        Mon, 14 Jun 2021 08:51:34 -0400
Received: from szxga03-in.huawei.com ([45.249.212.189]:6349 "EHLO
        szxga03-in.huawei.com" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S232791AbhFNMva (ORCPT
        <rfc822;linux-acpi@vger.kernel.org>); Mon, 14 Jun 2021 08:51:30 -0400
Received: from dggemv703-chm.china.huawei.com (unknown [172.30.72.54])
        by szxga03-in.huawei.com (SkyGuard) with ESMTP id 4G3WQ04LSBz6xWj;
        Mon, 14 Jun 2021 20:45:28 +0800 (CST)
Received: from dggema723-chm.china.huawei.com (10.3.20.87) by
 dggemv703-chm.china.huawei.com (10.3.19.46) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256) id
 15.1.2176.2; Mon, 14 Jun 2021 20:49:25 +0800
Received: from lhreml710-chm.china.huawei.com (10.201.108.61) by
 dggema723-chm.china.huawei.com (10.3.20.87) with Microsoft SMTP Server
 (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256_P256) id
 15.1.2176.2; Mon, 14 Jun 2021 20:49:24 +0800
Received: from lhreml710-chm.china.huawei.com ([169.254.81.184]) by
 lhreml710-chm.china.huawei.com ([169.254.81.184]) with mapi id
 15.01.2176.012; Mon, 14 Jun 2021 13:49:22 +0100
From:   Shameerali Kolothum Thodi <shameerali.kolothum.thodi@huawei.com>
To:     Robin Murphy <robin.murphy@arm.com>,
        "linux-arm-kernel@lists.infradead.org" 
        <linux-arm-kernel@lists.infradead.org>,
        "linux-acpi@vger.kernel.org" <linux-acpi@vger.kernel.org>,
        "iommu@lists.linux-foundation.org" <iommu@lists.linux-foundation.org>
CC:     "jon@solid-run.com" <jon@solid-run.com>,
        Linuxarm <linuxarm@huawei.com>,
        "steven.price@arm.com" <steven.price@arm.com>,
        "Guohanjun (Hanjun Guo)" <guohanjun@huawei.com>,
        yangyicong <yangyicong@huawei.com>,
        "Sami.Mujawar@arm.com" <Sami.Mujawar@arm.com>,
        wanghuiqiang <wanghuiqiang@huawei.com>
Subject: RE: [PATCH v5 3/8] ACPI/IORT: Add a helper to retrieve RMR memory
 regions
Thread-Topic: [PATCH v5 3/8] ACPI/IORT: Add a helper to retrieve RMR memory
 regions
Thread-Index: AQHXUIxzNCstxTr9F0iaZEElN6n+2KsTbWwAgAAl39A=
Date:   Mon, 14 Jun 2021 12:49:22 +0000
Message-ID: <3206cd67962242a69fb83adac892e34c@huawei.com>
References: <20210524110222.2212-1-shameerali.kolothum.thodi@huawei.com>
 <20210524110222.2212-4-shameerali.kolothum.thodi@huawei.com>
 <9e788789-c1c2-10f1-d99c-93cfa6ea3348@arm.com>
In-Reply-To: <9e788789-c1c2-10f1-d99c-93cfa6ea3348@arm.com>
Accept-Language: en-GB, en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-originating-ip: [10.47.26.251]
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-CFilter-Loop: Reflected
Precedence: bulk
List-ID: <linux-acpi.vger.kernel.org>
X-Mailing-List: linux-acpi@vger.kernel.org

DQoNCj4gLS0tLS1PcmlnaW5hbCBNZXNzYWdlLS0tLS0NCj4gRnJvbTogUm9iaW4gTXVycGh5IFtt
YWlsdG86cm9iaW4ubXVycGh5QGFybS5jb21dDQo+IFNlbnQ6IDE0IEp1bmUgMjAyMSAxMjoyMw0K
PiBUbzogU2hhbWVlcmFsaSBLb2xvdGh1bSBUaG9kaSA8c2hhbWVlcmFsaS5rb2xvdGh1bS50aG9k
aUBodWF3ZWkuY29tPjsNCj4gbGludXgtYXJtLWtlcm5lbEBsaXN0cy5pbmZyYWRlYWQub3JnOyBs
aW51eC1hY3BpQHZnZXIua2VybmVsLm9yZzsNCj4gaW9tbXVAbGlzdHMubGludXgtZm91bmRhdGlv
bi5vcmcNCj4gQ2M6IGpvbkBzb2xpZC1ydW4uY29tOyBMaW51eGFybSA8bGludXhhcm1AaHVhd2Vp
LmNvbT47DQo+IHN0ZXZlbi5wcmljZUBhcm0uY29tOyBHdW9oYW5qdW4gKEhhbmp1biBHdW8pIDxn
dW9oYW5qdW5AaHVhd2VpLmNvbT47DQo+IHlhbmd5aWNvbmcgPHlhbmd5aWNvbmdAaHVhd2VpLmNv
bT47IFNhbWkuTXVqYXdhckBhcm0uY29tOw0KPiB3YW5naHVpcWlhbmcgPHdhbmdodWlxaWFuZ0Bo
dWF3ZWkuY29tPg0KPiBTdWJqZWN0OiBSZTogW1BBVENIIHY1IDMvOF0gQUNQSS9JT1JUOiBBZGQg
YSBoZWxwZXIgdG8gcmV0cmlldmUgUk1SIG1lbW9yeQ0KPiByZWdpb25zDQo+IA0KPiBPbiAyMDIx
LTA1LTI0IDEyOjAyLCBTaGFtZWVyIEtvbG90aHVtIHdyb3RlOg0KPiA+IEFkZCBhIGhlbHBlciBm
dW5jdGlvbiB0aGF0IHJldHJpZXZlcyBSTVIgbWVtb3J5IGRlc2NyaXB0b3JzDQo+ID4gYXNzb2Np
YXRlZCB3aXRoIGEgZ2l2ZW4gSU9NTVUuIFRoaXMgd2lsbCBiZSB1c2VkIGJ5IElPTU1VDQo+ID4g
ZHJpdmVycyB0byBzZXR1cCBuZWNlc3NhcnkgbWFwcGluZ3MuDQo+ID4NCj4gPiBOb3cgdGhhdCB3
ZSBoYXZlIHRoaXMsIGludm9rZSBpdCBmcm9tIHRoZSBnZW5lcmljIGhlbHBlcg0KPiA+IGludGVy
ZmFjZS4NCj4gPg0KPiA+IFNpZ25lZC1vZmYtYnk6IFNoYW1lZXIgS29sb3RodW0NCj4gPHNoYW1l
ZXJhbGkua29sb3RodW0udGhvZGlAaHVhd2VpLmNvbT4NCj4gPiAtLS0NCj4gPiAgIGRyaXZlcnMv
YWNwaS9hcm02NC9pb3J0LmMgfCA1MA0KPiArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysNCj4gPiAgIGRyaXZlcnMvaW9tbXUvZG1hLWlvbW11LmMgfCAgNCArKysrDQo+ID4g
ICBpbmNsdWRlL2xpbnV4L2FjcGlfaW9ydC5oIHwgIDcgKysrKysrDQo+ID4gICAzIGZpbGVzIGNo
YW5nZWQsIDYxIGluc2VydGlvbnMoKykNCj4gPg0KPiA+IGRpZmYgLS1naXQgYS9kcml2ZXJzL2Fj
cGkvYXJtNjQvaW9ydC5jIGIvZHJpdmVycy9hY3BpL2FybTY0L2lvcnQuYw0KPiA+IGluZGV4IGZl
YTFmZmFlZGYzYi4uMDE5MTdjYWY1OGRlIDEwMDY0NA0KPiA+IC0tLSBhL2RyaXZlcnMvYWNwaS9h
cm02NC9pb3J0LmMNCj4gPiArKysgYi9kcml2ZXJzL2FjcGkvYXJtNjQvaW9ydC5jDQo+ID4gQEAg
LTEyLDYgKzEyLDcgQEANCj4gPg0KPiA+ICAgI2luY2x1ZGUgPGxpbnV4L2FjcGlfaW9ydC5oPg0K
PiA+ICAgI2luY2x1ZGUgPGxpbnV4L2JpdGZpZWxkLmg+DQo+ID4gKyNpbmNsdWRlIDxsaW51eC9k
bWEtaW9tbXUuaD4NCj4gPiAgICNpbmNsdWRlIDxsaW51eC9pb21tdS5oPg0KPiA+ICAgI2luY2x1
ZGUgPGxpbnV4L2tlcm5lbC5oPg0KPiA+ICAgI2luY2x1ZGUgPGxpbnV4L2xpc3QuaD4NCj4gPiBA
QCAtODM3LDYgKzgzOCw1MyBAQCBzdGF0aWMgaW5saW5lIGludCBpb3J0X2FkZF9kZXZpY2VfcmVw
bGF5KHN0cnVjdA0KPiBkZXZpY2UgKmRldikNCj4gPiAgIAlyZXR1cm4gZXJyOw0KPiA+ICAgfQ0K
PiA+DQo+ID4gKy8qKg0KPiA+ICsgKiBpb3J0X2lvbW11X2dldF9ybXJzIC0gSGVscGVyIHRvIHJl
dHJpZXZlIFJNUiBpbmZvIGFzc29jaWF0ZWQgd2l0aA0KPiBJT01NVQ0KPiA+ICsgKiBAaW9tbXU6
IGZ3bm9kZSBmb3IgdGhlIElPTU1VDQo+ID4gKyAqIEBoZWFkOiBSTVIgbGlzdCBoZWFkIHRvIGJl
IHBvcHVsYXRlZA0KPiA+ICsgKg0KPiA+ICsgKiBSZXR1cm5zOiAwIG9uIHN1Y2Nlc3MsIDwwIGZh
aWx1cmUNCj4gPiArICovDQo+ID4gK2ludCBpb3J0X2lvbW11X2dldF9ybXJzKHN0cnVjdCBmd25v
ZGVfaGFuZGxlICppb21tdV9md25vZGUsDQo+ID4gKwkJCXN0cnVjdCBsaXN0X2hlYWQgKmhlYWQp
DQo+ID4gK3sNCj4gPiArCXN0cnVjdCBpb3J0X3Jtcl9lbnRyeSAqZTsNCj4gPiArCXN0cnVjdCBh
Y3BpX2lvcnRfbm9kZSAqaW9tbXU7DQo+ID4gKwlpbnQgcm1ycyA9IDA7DQo+ID4gKw0KPiA+ICsJ
aW9tbXUgPSBpb3J0X2dldF9pb3J0X25vZGUoaW9tbXVfZndub2RlKTsNCj4gPiArCWlmICghaW9t
bXUgfHwgbGlzdF9lbXB0eSgmaW9ydF9ybXJfbGlzdCkpDQo+ID4gKwkJcmV0dXJuIC1FTk9ERVY7
DQo+ID4gKw0KPiA+ICsJbGlzdF9mb3JfZWFjaF9lbnRyeShlLCAmaW9ydF9ybXJfbGlzdCwgbGlz
dCkgew0KPiA+ICsJCWludCBwcm90ID0gSU9NTVVfUkVBRCB8IElPTU1VX1dSSVRFIHwgSU9NTVVf
Tk9FWEVDIHwNCj4gSU9NTVVfTU1JTzsNCj4gPiArCQlzdHJ1Y3QgaW9tbXVfcmVzdl9yZWdpb24g
KnJlZ2lvbjsNCj4gPiArCQllbnVtIGlvbW11X3Jlc3ZfdHlwZSB0eXBlOw0KPiA+ICsJCXN0cnVj
dCBhY3BpX2lvcnRfcm1yX2Rlc2MgKnJtcl9kZXNjOw0KPiA+ICsNCj4gPiArCQlpZiAoZS0+c21t
dSAhPSBpb21tdSkNCj4gPiArCQkJY29udGludWU7DQo+ID4gKw0KPiA+ICsJCXJtcl9kZXNjID0g
ZS0+cm1yX2Rlc2M7DQo+ID4gKwkJaWYgKGUtPmZsYWdzICYgSU9NTVVfUk1SX1JFTUFQX1BFUk1J
VFRFRCkNCj4gPiArCQkJdHlwZSA9IElPTU1VX1JFU1ZfRElSRUNUX1JFTEFYQUJMRTsNCj4gPiAr
CQllbHNlDQo+ID4gKwkJCXR5cGUgPSBJT01NVV9SRVNWX0RJUkVDVDsNCj4gDQo+IFdhc24ndCB0
aGUgaWRlYSB0aGF0IHdlIGNhbiBkbyBhbGwgdGhpcyBkdXJpbmcgdGhlIGluaXRpYWwgcGFyc2lu
ZywgaS5lLg0KPiB3ZSBkb24ndCBldmVuIGhhdmUgaW9ydF9ybXJfZW50cnksIHdlIHN0b3JlIHRo
ZW0gYXMgaW9tbXVfcmVzdl9yZWdpb25zDQo+IGFuZCBzaW1wbHkga21lbWR1cCgpIG9yIHdoYXRl
dmVyIGF0IHRoaXMgcG9pbnQ/DQoNCg0KSG1tLi4uIE5vdCB5ZXQuIEkgcmVtb3ZlZCBzdHJ1Y3Qg
aW9tbXVfcm1yKCkgZnJvbSB2NC4gQnV0IHllcywgaXQgbG9va3MgbGlrZQ0Kd2UgY2FuIGdldCBy
aWQgb2YgaW9ydF9ybXJfZW50cnkgYXMgd2VsbC4gV2lsbCBnaXZlIGl0IGEgZ28gaW4gbmV4dC4N
Cg0KVGhhbmtzLA0KU2hhbWVlcg0KDQo+IFJvYmluLg0KPiANCj4gPiArDQo+ID4gKwkJcmVnaW9u
ID0gaW9tbXVfYWxsb2NfcmVzdl9yZWdpb24ocm1yX2Rlc2MtPmJhc2VfYWRkcmVzcywNCj4gPiAr
CQkJCQkJIHJtcl9kZXNjLT5sZW5ndGgsDQo+ID4gKwkJCQkJCSBwcm90LCB0eXBlKTsNCj4gPiAr
CQlpZiAocmVnaW9uKSB7DQo+ID4gKwkJCXJlZ2lvbi0+ZndfZGF0YS5ybXIuZmxhZ3MgPSBlLT5m
bGFnczsNCj4gPiArCQkJcmVnaW9uLT5md19kYXRhLnJtci5zaWQgPSBlLT5zaWQ7DQo+ID4gKwkJ
CWxpc3RfYWRkX3RhaWwoJnJlZ2lvbi0+bGlzdCwgaGVhZCk7DQo+ID4gKwkJCXJtcnMrKzsNCj4g
PiArCQl9DQo+ID4gKwl9DQo+ID4gKw0KPiA+ICsJcmV0dXJuIChybXJzID09IDApID8gLUVOT0RF
ViA6IDA7DQo+ID4gK30NCj4gPiArDQo+ID4gICAvKioNCj4gPiAgICAqIGlvcnRfaW9tbXVfbXNp
X2dldF9yZXN2X3JlZ2lvbnMgLSBSZXNlcnZlZCByZWdpb24gZHJpdmVyIGhlbHBlcg0KPiA+ICAg
ICogQGRldjogRGV2aWNlIGZyb20gaW9tbXVfZ2V0X3Jlc3ZfcmVnaW9ucygpDQo+ID4gQEAgLTEx
MDgsNiArMTE1Niw4IEBAIGludCBpb3J0X2lvbW11X21zaV9nZXRfcmVzdl9yZWdpb25zKHN0cnVj
dA0KPiBkZXZpY2UgKmRldiwgc3RydWN0IGxpc3RfaGVhZCAqaGVhZCkNCj4gPiAgIGNvbnN0IHN0
cnVjdCBpb21tdV9vcHMgKmlvcnRfaW9tbXVfY29uZmlndXJlX2lkKHN0cnVjdCBkZXZpY2UgKmRl
diwNCj4gPiAgIAkJCQkJCWNvbnN0IHUzMiAqaW5wdXRfaWQpDQo+ID4gICB7IHJldHVybiBOVUxM
OyB9DQo+ID4gK2ludCBpb3J0X2lvbW11X2dldF9ybXJzKHN0cnVjdCBmd25vZGVfaGFuZGxlICpm
d25vZGUsIHN0cnVjdCBsaXN0X2hlYWQNCj4gKmhlYWQpDQo+ID4gK3sgcmV0dXJuIC1FTk9ERVY7
IH0NCj4gPiAgICNlbmRpZg0KPiA+DQo+ID4gICBzdGF0aWMgaW50IG5jX2RtYV9nZXRfcmFuZ2Uo
c3RydWN0IGRldmljZSAqZGV2LCB1NjQgKnNpemUpDQo+ID4gZGlmZiAtLWdpdCBhL2RyaXZlcnMv
aW9tbXUvZG1hLWlvbW11LmMgYi9kcml2ZXJzL2lvbW11L2RtYS1pb21tdS5jDQo+ID4gaW5kZXgg
MjI5ZWM2NWQ5OGJlLi5mODkzZDQ2MGNmYTQgMTAwNjQ0DQo+ID4gLS0tIGEvZHJpdmVycy9pb21t
dS9kbWEtaW9tbXUuYw0KPiA+ICsrKyBiL2RyaXZlcnMvaW9tbXUvZG1hLWlvbW11LmMNCj4gPiBA
QCAtMTg1LDYgKzE4NSw5IEBAIEVYUE9SVF9TWU1CT0woaW9tbXVfcHV0X2RtYV9jb29raWUpOw0K
PiA+ICAgaW50IGlvbW11X2RtYV9nZXRfcm1ycyhzdHJ1Y3QgZndub2RlX2hhbmRsZSAqaW9tbXVf
Zndub2RlLA0KPiA+ICAgCQkgICAgICAgc3RydWN0IGxpc3RfaGVhZCAqbGlzdCkNCj4gPiAgIHsN
Cj4gPiArCWlmICghaXNfb2Zfbm9kZShpb21tdV9md25vZGUpKQ0KPiA+ICsJCXJldHVybiBpb3J0
X2lvbW11X2dldF9ybXJzKGlvbW11X2Z3bm9kZSwgbGlzdCk7DQo+ID4gKw0KPiA+ICAgCXJldHVy
biAtRUlOVkFMOw0KPiA+ICAgfQ0KPiA+ICAgRVhQT1JUX1NZTUJPTChpb21tdV9kbWFfZ2V0X3Jt
cnMpOw0KPiA+IEBAIC0yMDAsNiArMjAzLDcgQEAgRVhQT1JUX1NZTUJPTChpb21tdV9kbWFfZ2V0
X3JtcnMpOw0KPiA+ICAgdm9pZCBpb21tdV9kbWFfcHV0X3JtcnMoc3RydWN0IGZ3bm9kZV9oYW5k
bGUgKmlvbW11X2Z3bm9kZSwNCj4gPiAgIAkJCXN0cnVjdCBsaXN0X2hlYWQgKmxpc3QpDQo+ID4g
ICB7DQo+ID4gKwlnZW5lcmljX2lvbW11X3B1dF9yZXN2X3JlZ2lvbnMoaW9tbXVfZndub2RlLT5k
ZXYsIGxpc3QpOw0KPiA+ICAgfQ0KPiA+ICAgRVhQT1JUX1NZTUJPTChpb21tdV9kbWFfcHV0X3Jt
cnMpOw0KPiA+DQo+ID4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvYWNwaV9pb3J0LmggYi9p
bmNsdWRlL2xpbnV4L2FjcGlfaW9ydC5oDQo+ID4gaW5kZXggMWExMmJhYTU4ZTQwLi5lOGM0NWZh
NTk1MzEgMTAwNjQ0DQo+ID4gLS0tIGEvaW5jbHVkZS9saW51eC9hY3BpX2lvcnQuaA0KPiA+ICsr
KyBiL2luY2x1ZGUvbGludXgvYWNwaV9pb3J0LmgNCj4gPiBAQCAtMzksNiArMzksOCBAQCBjb25z
dCBzdHJ1Y3QgaW9tbXVfb3BzDQo+ICppb3J0X2lvbW11X2NvbmZpZ3VyZV9pZChzdHJ1Y3QgZGV2
aWNlICpkZXYsDQo+ID4gICAJCQkJCQljb25zdCB1MzIgKmlkX2luKTsNCj4gPiAgIGludCBpb3J0
X2lvbW11X21zaV9nZXRfcmVzdl9yZWdpb25zKHN0cnVjdCBkZXZpY2UgKmRldiwgc3RydWN0IGxp
c3RfaGVhZA0KPiAqaGVhZCk7DQo+ID4gICBwaHlzX2FkZHJfdCBhY3BpX2lvcnRfZG1hX2dldF9t
YXhfY3B1X2FkZHJlc3Modm9pZCk7DQo+ID4gK2ludCBpb3J0X2lvbW11X2dldF9ybXJzKHN0cnVj
dCBmd25vZGVfaGFuZGxlICppb21tdV9md25vZGUsDQo+ID4gKwkJCXN0cnVjdCBsaXN0X2hlYWQg
Kmxpc3QpOw0KPiA+ICAgI2Vsc2UNCj4gPiAgIHN0YXRpYyBpbmxpbmUgdm9pZCBhY3BpX2lvcnRf
aW5pdCh2b2lkKSB7IH0NCj4gPiAgIHN0YXRpYyBpbmxpbmUgdTMyIGlvcnRfbXNpX21hcF9pZChz
dHJ1Y3QgZGV2aWNlICpkZXYsIHUzMiBpZCkNCj4gPiBAQCAtNTksNiArNjEsMTEgQEAgaW50IGlv
cnRfaW9tbXVfbXNpX2dldF9yZXN2X3JlZ2lvbnMoc3RydWN0IGRldmljZQ0KPiAqZGV2LCBzdHJ1
Y3QgbGlzdF9oZWFkICpoZWFkKQ0KPiA+DQo+ID4gICBzdGF0aWMgaW5saW5lIHBoeXNfYWRkcl90
IGFjcGlfaW9ydF9kbWFfZ2V0X21heF9jcHVfYWRkcmVzcyh2b2lkKQ0KPiA+ICAgeyByZXR1cm4g
UEhZU19BRERSX01BWDsgfQ0KPiA+ICsNCj4gPiArc3RhdGljIGlubGluZQ0KPiA+ICtpbnQgaW9y
dF9pb21tdV9nZXRfcm1ycyhzdHJ1Y3QgZndub2RlX2hhbmRsZSAqaW9tbXVfZndub2RlLA0KPiA+
ICsJCQlzdHJ1Y3QgbGlzdF9oZWFkICpsaXN0KQ0KPiA+ICt7IHJldHVybiAtRU5PREVWOyB9DQo+
ID4gICAjZW5kaWYNCj4gPg0KPiA+ICAgI2VuZGlmIC8qIF9fQUNQSV9JT1JUX0hfXyAqLw0KPiA+
DQo=
